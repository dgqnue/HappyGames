'use client';

import React, { createContext, useContext, useState, useEffect } from 'react';

type Language = 'en' | 'zh' | 'zh-TW' | 'es' | 'ko' | 'ja' | 'vi' | 'ar';

const translations = {
    en: {
        home_title: "HappyGames",
        home_subtitle: "Play games, earn Happy Beans, and win Pi!",
        welcome: "Welcome, Pioneer!",
        auth_msg: "Please authenticate with Pi Network to continue.",
        login_btn: "Login with Pi",
        login_agree: "By logging in, you agree to share your Pi username with HappyGames.",
        enter_lobby: "Enter Game Lobby",
        connecting: "Connecting to Pi...",
        back_home: "Back to Home",
        profile_not_found: "Profile Not Found",
        login_required: "Please login from the home page.",
        go_home: "Go to Home",
        promoter: "Promoter",
        member: "Member",
        referral_stats: "Referral Stats",
        invited_users: "Invited Users",
        total_flow: "Total Flow",
        referral_link: "Your Referral Link",
        logout: "Logout",
        logout_confirm: "Are you sure you want to logout?",
        cancel: "Cancel",
        loading_profile: "Loading Profile...",
        id: "ID",
        wallet: {
            title: "Asset Center",
            beans: "HAPPY BEANS",
            commission: "COMMISSION",
            alert: "Flexible Transfers: You can deposit from or withdraw to any Pi address, including your Personal Wallet or an Exchange Account.",
            tab_deposit: "Deposit (Pi → Beans)",
            tab_withdraw: "Withdraw (Beans → Pi)",
            deposit_addr: "Your Exclusive Deposit Address",
            no_memo: "No Memo Required: This address is unique to you.",
            step1: "Step 1: Transfer Pi to the address above.",
            step2: "Step 2: Click \"I Have Transferred\" below.",
            deposit_tip: "After transferring, click the button below. We will automatically scan the blockchain for your deposit.",
            check_deposit: "I Have Transferred (Check Deposit)",
            withdraw_addr: "Withdrawal Address",
            amount_beans: "Amount (Beans)",
            withdraw_btn: "Withdraw",
            history: "Transaction History",
            col_type: "Type",
            col_amount: "Amount",
            col_status: "Status",
            col_time: "Time",
            type_deposit: "Deposit",
            type_withdraw: "Withdrawal",
            status_pending: "Pending",
            status_completed: "Completed",
            status_failed: "Failed",
            deposit_success: "Deposit Successful!",
            received: "Received",
            great: "Great!"
        },
        lobby_feed: "Lobby Feed",
        recent_activity: "Recent Activity",
        feed_joined: "joined the lobby",
        feed_win: "won",
        feed_jackpot: "hit the Jackpot!",
        // Lobby
        lobby_title: 'Game Lobby',
        lobby_subtitle: 'Select a game to start earning Happy Beans!',
        online_players: 'Online Players',
        eco_pool: 'Eco Pool',
        quick_match: 'Quick Match',
        min_entry: 'Min Entry',
        game_poker: 'Happy Poker',
        match_settings: 'Match Settings',
        min_beans: 'Min Beans',
        max_beans: 'Max Beans',
        start_matching: 'Start Matching',
        matching: 'Matching...',
        match_found: 'Match Found!',
        joining: 'Joining Game...',
        total_beans: 'Total Happy Beans',
        official_wallet: 'Official Eco Wallet',
        copy: 'Copy',
        copied: 'Copied!',
        pi_explorer: 'Blockchain Explorer',
        wallet_query: 'Wallet Query',
        min_reserve: 'Min Reserve',
        eco_pool_min_reserve: 'Eco Pool / Min Reserve (Pi)',

        available_games: "Available Games",
        hot: "HOT",
        coming_soon: "Coming Soon",
        lucky_dice: "Lucky Dice",
        high_stakes: "High stakes, high rewards.",
        edit_nickname: "Edit Nickname",
        enter_nickname: "Enter new nickname",
        save: "Save",
        beans: "Beans",
        texas_holdem: "Texas Hold'em",
        join_now: "Join Now",
        referral_details: "Referral Details",
        my_team: "My Team",
        commission_history: "Commission History",
        view_details: "View Details",
    },
    zh: {
        home_title: "HappyGames",
        home_subtitle: "玩游戏，赚欢乐豆，赢取 Pi！",
        welcome: "欢迎，先锋！",
        auth_msg: "请通过 Pi Network 认证以继续。",
        login_btn: "使用 Pi 登录",
        login_agree: "登录即表示您同意与 HappyGames 分享您的 Pi 用户名。",
        enter_lobby: "进入游戏大厅",
        connecting: "正在连接 Pi...",
        back_home: "返回首页",
        profile_not_found: "未找到个人资料",
        login_required: "请从首页登录。",
        go_home: "前往首页",
        promoter: "推广员",
        member: "会员",
        referral_stats: "推广数据",
        invited_users: "已邀请用户",
        total_flow: "总流水",
        referral_link: "您的推广链接",
        logout: "退出登录",
        logout_confirm: "您确定要退出登录吗？",
        cancel: "取消",
        loading_profile: "正在加载个人资料...",
        id: "ID",
        wallet: {
            title: "资产中心",
            beans: "欢乐豆",
            commission: "佣金",
            alert: "灵活转账：您可以从任何 Pi 地址充值或提现，包括您的个人钱包或交易所账户。",
            tab_deposit: "充值 (Pi → 欢乐豆)",
            tab_withdraw: "提现 (欢乐豆 → Pi)",
            deposit_addr: "您的专属充值地址",
            no_memo: "无需备注：此地址为您独有。",
            step1: "第一步：向上述地址转账 Pi。",
            step2: "第二步：点击下方的“我已转账”。",
            deposit_tip: "转账后，请点击下方按钮。我们将自动扫描区块链确认您的充值。",
            check_deposit: "我已转账 (检查充值)",
            withdraw_addr: "提现地址",
            amount_beans: "数量 (欢乐豆)",
            withdraw_btn: "提现",
            history: "交易记录",
            col_type: "类型",
            col_amount: "数量",
            col_status: "状态",
            col_time: "时间",
            type_deposit: "充值",
            type_withdraw: "提现",
            status_pending: "处理中",
            status_completed: "已完成",
            status_failed: "失败",
            deposit_success: "充值成功！",
            received: "已到账",
            great: "太棒了！"
        },
        // Lobby
        lobby_title: '游戏大厅',
        lobby_subtitle: '选择一个游戏开始赚取欢乐豆！',
        online_players: '在线玩家',
        eco_pool: '生态池',
        quick_match: '快速匹配',
        min_entry: '最低准入',
        game_poker: '欢乐扑克',
        match_settings: '匹配设置',
        min_beans: '最小豆数',
        max_beans: '最大豆数',
        start_matching: '开始匹配',
        matching: '匹配中...',
        match_found: '匹配成功!',
        joining: '正在加入...',
        total_beans: '全网欢乐豆',
        official_wallet: '官方生态钱包',
        copy: '复制',
        copied: '已复制!',
        pi_explorer: '区块链浏览器',
        wallet_query: '钱包查询',
        min_reserve: '最低储备',
        eco_pool_min_reserve: '生态池 / 最低储备 (Pi)',
        lobby_feed: "大厅动态",
        recent_activity: "最新动态",
        feed_joined: "进入了大厅",
        feed_win: "赢得了",
        feed_jackpot: "中了头奖！",
        available_games: "可用游戏",
        hot: "热门",
        coming_soon: "敬请期待",
        lucky_dice: "幸运骰子",
        high_stakes: "高风险，高回报。",
        edit_nickname: "修改昵称",
        enter_nickname: "输入新昵称",
        save: "保存",
        beans: "欢乐豆",
        texas_holdem: "德州扑克",
        join_now: "立即加入",
        referral_details: "推广详情",
        my_team: "我的团队",
        commission_history: "佣金记录",
        view_details: "查看详情",
    },
    ar: {
        home_title: "HappyGames",
        home_subtitle: "العب الألعاب، واكسب Happy Beans، واربح Pi!",
        welcome: "مرحبًا أيها الرائد!",
        auth_msg: "يرجى المصادقة مع شبكة Pi للمتابعة.",
        login_btn: "تسجيل الدخول باستخدام Pi",
        login_agree: "من خلال تسجيل الدخول، فإنك توافق على مشاركة اسم مستخدم Pi الخاص بك مع HappyGames.",
        enter_lobby: "دخول ردهة الألعاب",
        connecting: "جاري الاتصال بـ Pi...",
        back_home: "العودة للرئيسية",
        profile_not_found: "الملف الشخصي غير موجود",
        login_required: "يرجى تسجيل الدخول من الصفحة الرئيسية.",
        go_home: "الذهاب للرئيسية",
        promoter: "مروج",
        member: "عضو",
        referral_stats: "إحصائيات الإحالة",
        invited_users: "المستخدمون المدعوون",
        total_flow: "إجمالي التدفق",
        referral_link: "رابط الإحالة الخاص بك",
        logout: "تسجيل الخروج",
        logout_confirm: "هل أنت متأكد أنك تريد تسجيل الخروج؟",
        cancel: "إلغاء",
        loading_profile: "جاري تحميل الملف الشخصي...",
        id: "المعرف",
        wallet: {
            title: "مركز الأصول",
            beans: "Happy Beans",
            commission: "العمولة",
            alert: "تحويلات مرنة: يمكنك الإيداع أو السحب من أي عنوان Pi، بما في ذلك محفظتك الشخصية أو حساب البورصة.",
            tab_deposit: "إيداع (Pi → Beans)",
            tab_withdraw: "سحب (Beans → Pi)",
            deposit_addr: "عنوان الإيداع الحصري الخاص بك",
            no_memo: "لا توجد ملاحظة مطلوبة: هذا العنوان فريد لك.",
            step1: "الخطوة 1: قم بتحويل Pi إلى العنوان أعلاه.",
            step2: "الخطوة 2: انقر فوق \"لقد قمت بالتحويل\" أدناه.",
            deposit_tip: "بعد التحويل، انقر فوق الزر أدناه. سنقوم بمسح blockchain تلقائيًا بحثًا عن إيداعك.",
            check_deposit: "لقد قمت بالتحويل (تحقق من الإيداع)",
            withdraw_addr: "عنوان السحب",
            amount_beans: "المبلغ (Beans)",
            withdraw_btn: "سحب",
            history: "سجل المعاملات",
            col_type: "النوع",
            col_amount: "المبلغ",
            col_status: "الحالة",
            col_time: "الوقت",
            type_deposit: "إيداع",
            type_withdraw: "سحب",
            status_pending: "قيد الانتظار",
            status_completed: "مكتمل",
            status_failed: "فشل",
            deposit_success: "Deposit Successful!",
            received: "Received",
            great: "Great!"
        },
        // Lobby
        lobby_title: 'Game Lobby',
        lobby_subtitle: 'اختر لعبة لبدء كسب Happy Beans!',
        online_players: 'Online Players',
        eco_pool: 'Eco Pool',
        quick_match: 'Quick Match',
        min_entry: 'Min Entry',
        game_poker: 'Happy Poker',
        match_settings: 'Match Settings',
        min_beans: 'Min Beans',
        max_beans: 'Max Beans',
        start_matching: 'بدء المطابقة',
        matching: 'جاري المطابقة...',
        match_found: 'تم العثور على مباراة！',
        joining: 'الانضمام إلى اللعبة...',
        total_beans: 'إجمالي Happy Beans',
        official_wallet: 'المحفظة البيئية الرسمية',
        copy: 'نسخ',
        copied: 'تم النسخ！',
        pi_explorer: 'مستكشف البلوكشين',
        wallet_query: 'استعلام المحفظة',
        min_reserve: 'الحد الأدنى للاحتياطي',
        eco_pool_min_reserve: 'مجموعة البيئة / الحد الأدنى للاحتياطي (Pi)',
        lobby_feed: 'موجز الردهة',
        recent_activity: 'النشاط الأخير',
        feed_joined: 'انضم إلى الردهة',
        feed_win: 'فاز',
        feed_jackpot: 'فاز بالجائزة الكبرى!',
        available_games: "الألعاب المتاحة",
        hot: "ساخن",
        coming_soon: "قريبا",
        lucky_dice: "نرد الحظ",
        high_stakes: "High stakes, high rewards.",
        edit_nickname: "Edit Nickname",
        enter_nickname: "Enter new nickname",
        save: "Save",
        beans: "Beans",
        texas_holdem: "Texas Hold'em",
        join_now: "انضم الآن",
        referral_details: "Referral Details",
        my_team: "My Team",
        commission_history: "Commission History",
        view_details: "View Details",
    },
    vi: {
        home_title: "HappyGames",
        home_subtitle: "Chơi game, kiếm Happy Beans và thắng Pi!",
        welcome: "Chào mừng, Tiên phong!",
        auth_msg: "Vui lòng xác thực với Pi Network để tiếp tục.",
        login_btn: "Đăng nhập bằng Pi",
        login_agree: "Bằng cách đăng nhập, bạn đồng ý chia sẻ tên người dùng Pi của mình với HappyGames.",
        enter_lobby: "Vào sảnh game",
        connecting: "Đang kết nối Pi...",
        back_home: "Về trang chủ",
        profile_not_found: "Không tìm thấy hồ sơ",
        login_required: "Vui lòng đăng nhập từ trang chủ.",
        go_home: "Về trang chủ",
        promoter: "Người giới thiệu",
        member: "Thành viên",
        referral_stats: "Thống kê giới thiệu",
        invited_users: "Người được mời",
        total_flow: "Tổng lưu lượng",
        referral_link: "Liên kết giới thiệu của bạn",
        logout: "Đăng xuất",
        logout_confirm: "Bạn có chắc chắn muốn đăng xuất?",
        cancel: "Hủy",
        loading_profile: "Đang tải hồ sơ...",
        id: "ID",
        wallet: {
            title: "Trung tâm tài sản",
            beans: "Happy Beans",
            commission: "Hoa hồng",
            alert: "Chuyển khoản linh hoạt: Bạn có thể nạp hoặc rút từ bất kỳ địa chỉ Pi nào, bao gồm ví cá nhân hoặc tài khoản sàn giao dịch.",
            tab_deposit: "Nạp (Pi → Beans)",
            tab_withdraw: "Rút (Beans → Pi)",
            deposit_addr: "Địa chỉ nạp tiền độc quyền của bạn",
            no_memo: "Không cần ghi chú: Địa chỉ này là duy nhất cho bạn.",
            step1: "Bước 1: Chuyển Pi đến địa chỉ trên.",
            step2: "Bước 2: Nhấn vào \"Tôi đã chuyển\" bên dưới.",
            deposit_tip: "Sau khi chuyển, hãy nhấn nút bên dưới. Chúng tôi sẽ tự động quét blockchain để xác nhận khoản nạp của bạn.",
            check_deposit: "Tôi đã chuyển (Kiểm tra nạp tiền)",
            withdraw_addr: "Địa chỉ rút tiền",
            amount_beans: "Số lượng (Beans)",
            withdraw_btn: "Rút tiền",
            history: "Lịch sử giao dịch",
            col_type: "Loại",
            col_amount: "Số tiền",
            col_status: "Trạng thái",
            col_time: "Thời gian",
            type_deposit: "Nạp tiền",
            type_withdraw: "Rút tiền",
            status_pending: "Đang xử lý",
            status_completed: "Hoàn thành",
            status_failed: "Thất bại",
            deposit_success: "Deposit Successful!",
            received: "Received",
            great: "Great!"
        },
        // Lobby
        lobby_title: 'Game Lobby',
        lobby_subtitle: 'Chọn một trò chơi để bắt đầu kiếm Happy Beans!',
        online_players: 'Online Players',
        eco_pool: 'Eco Pool',
        quick_match: 'Quick Match',
        min_entry: 'Min Entry',
        game_poker: 'Happy Poker',
        match_settings: 'Match Settings',
        min_beans: 'Min Beans',
        max_beans: 'Max Beans',
        start_matching: 'Bắt đầu ghép đôi',
        matching: 'Đang ghép đôi...',
        match_found: 'Đã tìm thấy đối thủ！',
        joining: 'Đang tham gia trò chơi...',
        total_beans: 'Tổng Happy Beans',
        official_wallet: 'Ví Sinh Thái Chính Thức',
        copy: 'Sao chép',
        copied: 'Đã sao chép！',
        pi_explorer: 'Trình khám phá Blockchain',
        wallet_query: 'Truy vấn ví',
        min_reserve: 'Dự trữ tối thiểu',
        eco_pool_min_reserve: 'Quỹ Sinh Thái / Dự Trữ Tối Thiểu (Pi)',
        lobby_feed: 'Bảng tin sảnh',
        recent_activity: 'Hoạt động gần đây',
        feed_joined: 'đã tham gia sảnh',
        feed_win: 'đã thắng',
        feed_jackpot: 'đã trúng giải độc đắc!',

        available_games: "Trò chơi có sẵn",
        hot: "HOT",
        coming_soon: "Sắp ra mắt",
        lucky_dice: "Xúc xắc may mắn",
        high_stakes: "Cược lớn, thưởng lớn.",
        edit_nickname: "Sửa biệt danh",
        enter_nickname: "Nhập biệt danh mới",
        save: "Lưu",
        beans: "Đậu",
        texas_holdem: "Texas Hold'em",
        join_now: "Tham gia ngay",
        referral_details: "Referral Details",
        my_team: "My Team",
        commission_history: "Commission History",
        view_details: "View Details",
    },
    es: {
        home_title: "HappyGames",
        home_subtitle: "¡Juega, gana Happy Beans y obtén Pi!",
        welcome: "¡Bienvenido, Pionero!",
        auth_msg: "Por favor, autentícate con Pi Network para continuar.",
        login_btn: "Iniciar sesión con Pi",
        login_agree: "Al iniciar sesión, aceptas compartir tu nombre de usuario de Pi con HappyGames.",
        enter_lobby: "Entrar al vestíbulo",
        connecting: "Conectando a Pi...",
        back_home: "Volver al inicio",
        profile_not_found: "Perfil no encontrado",
        login_required: "Por favor, inicia sesión desde la página de inicio.",
        go_home: "Ir al inicio",
        promoter: "Promotor",
        member: "Miembro",
        referral_stats: "Estadísticas de referencia",
        invited_users: "Usuarios invitados",
        total_flow: "Flujo total",
        referral_link: "Tu enlace de referencia",
        logout: "Cerrar sesión",
        logout_confirm: "¿Estás seguro de que quieres cerrar sesión?",
        cancel: "Cancelar",
        loading_profile: "Cargando perfil...",
        id: "ID",
        wallet: {
            title: "Centro de Activos",
            beans: "Happy Beans",
            commission: "Comisión",
            alert: "Transferencias flexibles: Puede depositar o retirar desde cualquier dirección de Pi, incluida su billetera personal o una cuenta de intercambio.",
            tab_deposit: "Depósito (Pi → Beans)",
            tab_withdraw: "Retiro (Beans → Pi)",
            deposit_addr: "Su dirección de depósito exclusiva",
            no_memo: "No se requiere nota: Esta dirección es única para usted.",
            step1: "Paso 1: Transfiera Pi a la dirección anterior.",
            step2: "Paso 2: Haga clic en \"He transferido\" a continuación.",
            deposit_tip: "Después de transferir, haga clic en el botón de abajo. Escanearemos automáticamente la cadena de bloques en busca de su depósito.",
            check_deposit: "He transferido (Verificar depósito)",
            withdraw_addr: "Dirección de retiro",
            amount_beans: "Cantidad (Beans)",
            withdraw_btn: "Retirar",
            history: "Historial de transacciones",
            col_type: "Tipo",
            col_amount: "Monto",
            col_status: "Estado",
            col_time: "Hora",
            type_deposit: "Depósito",
            type_withdraw: "Retiro",
            status_pending: "Pendiente",
            status_completed: "Completado",
            status_failed: "Fallido",
            deposit_success: "Deposit Successful!",
            received: "Received",
            great: "Great!"
        },
        // Lobby
        lobby_title: 'Game Lobby',
        lobby_subtitle: '¡Selecciona un juego para comenzar a ganar Happy Beans!',
        online_players: 'Online Players',
        eco_pool: 'Eco Pool',
        quick_match: 'Quick Match',
        min_entry: 'Min Entry',
        game_poker: 'Happy Poker',
        match_settings: 'Match Settings',
        min_beans: 'Min Beans',
        max_beans: 'Max Beans',
        start_matching: 'Comenzar emparejamiento',
        matching: 'Emparejando...',
        match_found: '¡Partida encontrada！',
        joining: 'Uniéndose al juego...',
        total_beans: 'Total de Happy Beans',
        official_wallet: 'Cartera Ecológica Oficial',
        copy: 'Copiar',
        copied: '¡Copiado！',
        pi_explorer: 'Explorador de Blockchain',
        wallet_query: 'Consulta de cartera',
        min_reserve: 'Reserva mínima',
        eco_pool_min_reserve: 'Fondo Ecológico / Reserva Mínima (Pi)',
        lobby_feed: 'Feed del vestíbulo',
        recent_activity: 'Actividad reciente',
        feed_joined: 'se unió al vestíbulo',
        feed_win: 'ganó',
        feed_jackpot: 'ganó el premio mayor!',
        available_games: "Juegos Disponibles",
        hot: "CALIENTE",
        coming_soon: "Próximamente",
        lucky_dice: "Dados de la Suerte",
        high_stakes: "Apuestas altas, grandes recompensas.",
        edit_nickname: "Editar Apodo",
        enter_nickname: "Ingresar nuevo apodo",
        save: "Guardar",
        beans: "Frijoles",
        texas_holdem: "Texas Hold'em",
        join_now: "Unirse ahora",
        referral_details: "Detalles de Referencia",
        my_team: "Mi Equipo",
        commission_history: "Historial de Comisiones",
        view_details: "Ver Detalles",
    },
    'zh-TW': {
        home_title: "HappyGames",
        home_subtitle: "玩遊戲，賺歡樂豆，贏取 Pi！",
        welcome: "歡迎，先鋒！",
        auth_msg: "請通過 Pi Network 認證以繼續。",
        login_btn: "使用 Pi 登錄",
        login_agree: "登錄即表示您同意與 HappyGames 分享您的 Pi 用戶名。",
        enter_lobby: "進入遊戲大廳",
        connecting: "正在連接 Pi...",
        back_home: "返回首頁",
        profile_not_found: "未找到個人資料",
        login_required: "請從首頁登錄。",
        go_home: "前往首頁",
        promoter: "推廣員",
        member: "會員",
        referral_stats: "推廣數據",
        invited_users: "已邀請用戶",
        total_flow: "總流水",
        referral_link: "您的推廣鏈接",
        logout: "退出登錄",
        logout_confirm: "您確定要退出登錄嗎？",
        cancel: "取消",
        loading_profile: "正在加載個人資料...",
        id: "ID",
        wallet: {
            title: "資產中心",
            beans: "歡樂豆",
            commission: "佣金",
            alert: "靈活轉賬：您可以從任何 Pi 地址充值或提現，包括您的個人錢包或交易所賬戶。",
            tab_deposit: "充值 (Pi → 歡樂豆)",
            tab_withdraw: "提現 (歡樂豆 → Pi)",
            deposit_addr: "您的專屬充值地址",
            no_memo: "無需備註：此地址為您獨有。",
            step1: "第一步：向上述地址轉賬 Pi。",
            step2: "第二步：點擊下方的“我已轉賬”。",
            deposit_tip: "轉賬後，請點擊下方按鈕。我們將自動掃描區塊鏈確認您的充值。",
            check_deposit: "我已轉賬 (檢查充值)",
            withdraw_addr: "提現地址",
            amount_beans: "數量 (歡樂豆)",
            withdraw_btn: "提現",
            history: "交易記錄",
            col_type: "類型",
            col_amount: "數量",
            col_status: "狀態",
            col_time: "時間",
            type_deposit: "充值",
            type_withdraw: "提現",
            status_pending: "處理中",
            status_completed: "已完成",
            status_failed: "失敗",
            deposit_success: "充值成功！",
            received: "已到賬",
            great: "太棒了！"
        },
        // Lobby
        lobby_title: 'Game Lobby',
        lobby_subtitle: '選擇一個遊戲開始賺取歡樂豆！',
        online_players: 'Online Players',
        eco_pool: 'Eco Pool',
        quick_match: 'Quick Match',
        min_entry: 'Min Entry',
        game_poker: 'Happy Poker',
        match_settings: 'Match Settings',
        min_beans: 'Min Beans',
        max_beans: 'Max Beans',
        start_matching: '開始匹配',
        matching: '匹配中...',
        match_found: '找到對手！',
        joining: '加入遊戲中...',
        total_beans: '總歡樂豆',
        official_wallet: '官方生態錢包',
        copy: '複製',
        copied: '已複製！',
        pi_explorer: '區塊鏈瀏覽器',
        wallet_query: '錢包查詢',
        min_reserve: '最低儲備',
        eco_pool_min_reserve: '生態池 / 最低儲備 (Pi)',
        lobby_feed: "大廳動態",
        recent_activity: "最新動態",
        feed_joined: "進入了大廳",
        feed_win: "贏得了",
        feed_jackpot: "中了頭獎！",
        available_games: "可用遊戲",
        hot: "熱門",
        coming_soon: "敬請期待",
        lucky_dice: "幸運骰子",
        high_stakes: "高風險，高回報。",
        edit_nickname: "修改暱稱",
        enter_nickname: "輸入新暱稱",
        save: "保存",
        beans: "歡樂豆",
        texas_holdem: "德州撲克",
        join_now: "立即加入",
        referral_details: "推廣詳情",
        my_team: "我的團隊",
        commission_history: "佣金記錄",
        view_details: "查看詳情",
    },
    ja: {
        home_title: "HappyGames",
        home_subtitle: "ゲームをプレイして、Happy Beansを獲得し、Piを勝ち取ろう！",
        welcome: "ようこそ、パイオニア！",
        auth_msg: "続行するにはPi Networkで認証してください。",
        login_btn: "Piでログイン",
        login_agree: "ログインすることで、HappyGamesとPiユーザー名を共有することに同意します。",
        enter_lobby: "ゲームロビーに入る",
        connecting: "Piに接続中...",
        back_home: "ホームに戻る",
        profile_not_found: "プロフィールが見つかりません",
        login_required: "ホーム画面からログインしてください。",
        go_home: "ホームへ",
        promoter: "プロモーター",
        member: "メンバー",
        referral_stats: "紹介統計",
        invited_users: "招待ユーザー",
        total_flow: "総フロー",
        referral_link: "あなたの紹介リンク",
        logout: "ログアウト",
        logout_confirm: "ログアウトしてもよろしいですか？",
        cancel: "キャンセル",
        loading_profile: "プロフィールを読み込み中...",
        id: "ID",
        wallet: {
            title: "資産センター",
            beans: "ハッピービーンズ",
            commission: "手数料",
            alert: "柔軟な送金：個人のウォレットや取引所口座を含む、任意のPiアドレスから入出金できます。",
            tab_deposit: "入金 (Pi → Beans)",
            tab_withdraw: "出金 (Beans → Pi)",
            deposit_addr: "あなた専用の入金アドレス",
            no_memo: "メモ不要：このアドレスはあなた専用です。",
            step1: "ステップ1：上記のアドレスにPiを送金します。",
            step2: "ステップ2：下の「送金しました」をクリックします。",
            deposit_tip: "送金後、下のボタンをクリックしてください。ブロックチェーンを自動的にスキャンして入金を確認します。",
            check_deposit: "送金しました（入金確認）",
            withdraw_addr: "出金アドレス",
            amount_beans: "数量 (Beans)",
            withdraw_btn: "出金",
            history: "取引履歴",
            col_type: "タイプ",
            col_amount: "金額",
            col_status: "ステータス",
            col_time: "時間",
            type_deposit: "入金",
            type_withdraw: "出金",
            status_pending: "保留中",
            status_completed: "完了",
            status_failed: "失敗",
            deposit_success: "入金成功！",
            received: "受領済み",
            great: "素晴らしい！"
        },
        lobby_feed: "ロビーフィード",
        recent_activity: "最近のアクティビティ",
        feed_joined: "がロビーに参加しました",
        feed_win: "が勝利しました",
        feed_jackpot: "がジャックポットを当てました！",
        lobby_title: 'ゲームロビー',
        lobby_subtitle: 'ゲームを選択してHappy Beansを獲得しましょう！',
        online_players: 'オンラインプレイヤー',
        eco_pool: 'エコプール',
        quick_match: 'クイックマッチ',
        min_entry: '最小エントリー',
        game_poker: 'ハッピーポーカー',
        match_settings: 'マッチ設定',
        min_beans: '最小Beans',
        max_beans: '最大Beans',
        start_matching: 'マッチング開始',
        matching: 'マッチング中...',
        match_found: 'マッチが見つかりました！',
        joining: 'ゲームに参加中...',
        total_beans: '総ハッピービーンズ',
        official_wallet: '公式エコウォレット',
        copy: 'コピー',
        copied: 'コピーしました！',
        pi_explorer: 'ブロックチェーンエクスプローラー',
        wallet_query: 'ウォレット照会',
        min_reserve: '最低準備金',
        eco_pool_min_reserve: 'エコプール / 最低準備金 (Pi)',
        available_games: "利用可能なゲーム",
        hot: "注目",
        coming_soon: "近日公開",
        lucky_dice: "ラッキーダイス",
        high_stakes: "ハイステークス、ハイリターン。",
        edit_nickname: "ニックネーム編集",
        enter_nickname: "新しいニックネームを入力",
        save: "保存",
        beans: "Beans",
        texas_holdem: "テキサスホールデム",
        join_now: "今すぐ参加",
        referral_details: "紹介詳細",
        my_team: "マイチーム",
        commission_history: "コミッション履歴",
        view_details: "詳細を見る",
    },
    ko: {
        home_title: "HappyGames",
        home_subtitle: "게임을 즐기고, Happy Beans를 얻고, Pi를 획득하세요!",
        welcome: "환영합니다, 파이오니어님!",
        auth_msg: "계속하려면 Pi Network로 인증하세요.",
        login_btn: "Pi로 로그인",
        login_agree: "로그인하면 HappyGames와 Pi 사용자 이름을 공유하는 데 동의하게 됩니다.",
        enter_lobby: "게임 로비 입장",
        connecting: "Pi 연결 중...",
        back_home: "홈으로 돌아가기",
        profile_not_found: "프로필을 찾을 수 없습니다",
        login_required: "홈 페이지에서 로그인해주세요.",
        go_home: "홈으로 이동",
        promoter: "프로모터",
        member: "멤버",
        referral_stats: "추천 통계",
        invited_users: "초대된 사용자",
        total_flow: "총 흐름",
        referral_link: "귀하의 추천 링크",
        logout: "로그아웃",
        logout_confirm: "정말 로그아웃하시겠습니까?",
        cancel: "취소",
        loading_profile: "프로필 로딩 중...",
        id: "ID",
        wallet: {
            title: "자산 센터",
            beans: "해피 빈즈",
            commission: "수수료",
            alert: "유연한 전송: 개인 지갑이나 거래소 계정을 포함한 모든 Pi 주소에서 입금하거나 출금할 수 있습니다.",
            tab_deposit: "입금 (Pi → Beans)",
            tab_withdraw: "출금 (Beans → Pi)",
            deposit_addr: "귀하의 전용 입금 주소",
            no_memo: "메모 필요 없음: 이 주소는 귀하에게 고유합니다.",
            step1: "1단계: 위 주소로 Pi를 전송하세요.",
            step2: "2단계: 아래의 \"전송했습니다\"를 클릭하세요.",
            deposit_tip: "전송 후 아래 버튼을 클릭하세요. 블록체인을 자동으로 스캔하여 입금을 확인합니다.",
            check_deposit: "전송했습니다 (입금 확인)",
            withdraw_addr: "출금 주소",
            amount_beans: "수량 (Beans)",
            withdraw_btn: "출금",
            history: "거래 내역",
            col_type: "유형",
            col_amount: "금액",
            col_status: "상태",
            col_time: "시간",
            type_deposit: "입금",
            type_withdraw: "출금",
            status_pending: "대기 중",
            status_completed: "완료됨",
            status_failed: "실패",
            deposit_success: "입금 성공!",
            received: "수령됨",
            great: "좋아요!"
        },
        lobby_feed: "로비 피드",
        recent_activity: "최근 활동",
        feed_joined: "님이 로비에 입장했습니다",
        feed_win: "님이 승리했습니다",
        feed_jackpot: "님이 잭팟을 터뜨렸습니다!",
        lobby_title: '게임 로비',
        lobby_subtitle: 'Happy Beans를 획득하려면 게임을 선택하세요!',
        online_players: '온라인 플레이어',
        eco_pool: '에코 풀',
        quick_match: '빠른 매치',
        min_entry: '최소 입장',
        game_poker: '해피 포커',
        match_settings: '매치 설정',
        min_beans: '최소 Beans',
        max_beans: '최대 Beans',
        start_matching: '매칭 시작',
        matching: '매칭 중...',
        match_found: '매치 발견!',
        joining: '게임 참여 중...',
        total_beans: '총 해피 빈즈',
        official_wallet: '공식 에코 지갑',
        copy: '복사',
        copied: '복사됨!',
        pi_explorer: '블록체인 탐색기',
        wallet_query: '지갑 조회',
        min_reserve: '최소 준비금',
        eco_pool_min_reserve: '에코 풀 / 최소 준비금 (Pi)',
        available_games: "사용 가능한 게임",
        hot: "인기",
        coming_soon: "곧 출시",
        lucky_dice: "럭키 다이스",
        high_stakes: "하이 스테이크, 하이 리워드.",
        edit_nickname: "닉네임 수정",
        enter_nickname: "새 닉네임 입력",
        save: "저장",
        beans: "Beans",
        texas_holdem: "텍사스 홀덤",
        join_now: "지금 참여",
        referral_details: "추천 상세",
        my_team: "나의 팀",
        commission_history: "수수료 내역",
        view_details: "상세 보기",
    },
};

type Translations = typeof translations.en;

interface LanguageContextType {
    language: Language;
    setLanguage: (lang: Language) => void;
    t: Translations;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export function LanguageProvider({ children }: { children: React.ReactNode }) {
    const [language, setLanguage] = useState<Language>('en');

    useEffect(() => {
        const savedLang = localStorage.getItem('app_language') as Language;
        if (savedLang && translations[savedLang]) {
            setLanguage(savedLang);
        }
    }, []);

    const handleSetLanguage = (lang: Language) => {
        setLanguage(lang);
        localStorage.setItem('app_language', lang);
    };

    return (
        <LanguageContext.Provider value={{ language, setLanguage: handleSetLanguage, t: translations[language] }}>
            {children}
        </LanguageContext.Provider>
    );
}

export function useLanguage() {
    const context = useContext(LanguageContext);
    if (context === undefined) {
        throw new Error('useLanguage must be used within a LanguageProvider');
    }
    return context;
}
