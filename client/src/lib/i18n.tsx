'use client';

import React, { createContext, useContext, useState, useEffect } from 'react';

type Language = 'en' | 'zh' | 'ja' | 'ko' | 'ru' | 'de' | 'fr' | 'ar' | 'vi' | 'es' | 'pt' | 'zh-TW' | 'ms' | 'he';

const translations = {
    en: {
        home_title: "HappyGames",
        home_subtitle: "Play games, earn Happy Beans, and win Pi!",
        welcome: "Welcome, Pioneer!",
        auth_msg: "Please authenticate with Pi Network to continue.",
        login_btn: "Login with Pi",
        login_agree: "By logging in, you agree to share your Pi username with HappyGames.",
        enter_lobby: "Enter Game Lobby",
        connecting: "Connecting to Pi...",
        back_home: "Back to Home",
        profile_not_found: "Profile Not Found",
        login_required: "Please login from the home page.",
        go_home: "Go to Home",
        promoter: "Promoter",
        member: "Member",
        referral_stats: "Referral Stats",
        invited_users: "Invited Users",
        total_flow: "Total Flow",
        referral_link: "Your Referral Link",
        logout: "Logout",
        logout_confirm: "Are you sure you want to logout?",
        cancel: "Cancel",
        loading_profile: "Loading Profile...",
        id: "ID",
        wallet: {
            title: "Asset Center",
            beans: "HAPPY BEANS",
            commission: "COMMISSION",
            alert: "Flexible Transfers: You can deposit from or withdraw to any Pi address, including your Personal Wallet or an Exchange Account.",
            tab_deposit: "Deposit (Pi → Beans)",
            tab_withdraw: "Withdraw (Beans → Pi)",
            deposit_addr: "Your Exclusive Deposit Address",
            no_memo: "No Memo Required: This address is unique to you.",
            step1: "Step 1: Transfer Pi to the address above.",
            step2: "Step 2: Click \"I Have Transferred\" below.",
            deposit_tip: "After transferring, click the button below. We will automatically scan the blockchain for your deposit.",
            check_deposit: "I Have Transferred (Check Deposit)",
            withdraw_addr: "Withdrawal Address",
            amount_beans: "Amount (Beans)",
            withdraw_btn: "Withdraw",
            history: "Transaction History",
            col_type: "Type",
            col_amount: "Amount",
            col_status: "Status",
            col_time: "Time",
            type_deposit: "Deposit",
            type_withdraw: "Withdrawal",
            status_pending: "Pending",
            status_completed: "Completed",
            status_failed: "Failed",
            deposit_success: "Deposit Successful!",
            received: "Received",
            great: "Great!"
        },
        lobby_feed: "Lobby Feed",
        recent_activity: "Recent Activity",
        feed_joined: "joined the lobby",
        feed_win: "won",
        feed_jackpot: "hit the Jackpot!",
        // Lobby
        lobby_title: 'Game Lobby',
        online_players: 'Online Players',
        eco_pool: 'Eco Pool',
        quick_match: 'Quick Match',
        min_entry: 'Min Entry',
        game_poker: 'Happy Poker',
        match_settings: 'Match Settings',
        min_beans: 'Min Beans',
        max_beans: 'Max Beans',
        start_matching: 'Start Matching',
        matching: 'Matching...',
        match_found: 'Match Found!',
        joining: 'Joining Game...',
        total_beans: 'Total Happy Beans',
        official_wallet: 'Official Eco Wallet',
        copy: 'Copy',
        copied: 'Copied!',
        pi_explorer: 'Blockchain Explorer',
        wallet_query: 'Wallet Query',
        min_reserve: 'Min Reserve',

        available_games: "Available Games",
        hot: "HOT",
        coming_soon: "Coming Soon",
        lucky_dice: "Lucky Dice",
        high_stakes: "High stakes, high rewards.",
        edit_nickname: "Edit Nickname",
        enter_nickname: "Enter new nickname",
        save: "Save",
        beans: "Beans",
        texas_holdem: "Texas Hold'em",
        referral_details: "Referral Details",
        my_team: "My Team",
        commission_history: "Commission History",
        view_details: "View Details",
        referral_details: "Referral Details",
        my_team: "My Team",
        commission_history: "Commission History",
        view_details: "View Details",
    },
    zh: {
        home_title: "HappyGames",
        home_subtitle: "玩游戏，赚欢乐豆，赢取 Pi！",
        welcome: "欢迎，先锋！",
        auth_msg: "请通过 Pi Network 认证以继续。",
        login_btn: "使用 Pi 登录",
        login_agree: "登录即表示您同意与 HappyGames 分享您的 Pi 用户名。",
        enter_lobby: "进入游戏大厅",
        connecting: "正在连接 Pi...",
        back_home: "返回首页",
        profile_not_found: "未找到个人资料",
        login_required: "请从首页登录。",
        go_home: "前往首页",
        promoter: "推广员",
        member: "会员",
        referral_stats: "推广数据",
        invited_users: "已邀请用户",
        total_flow: "总流水",
        referral_link: "您的推广链接",
        logout: "退出登录",
        logout_confirm: "您确定要退出登录吗？",
        cancel: "取消",
        loading_profile: "正在加载个人资料...",
        id: "ID",
        wallet: {
            title: "资产中心",
            beans: "欢乐豆",
            commission: "佣金",
            alert: "灵活转账：您可以从任何 Pi 地址充值或提现，包括您的个人钱包或交易所账户。",
            tab_deposit: "充值 (Pi → 欢乐豆)",
            tab_withdraw: "提现 (欢乐豆 → Pi)",
            deposit_addr: "您的专属充值地址",
            no_memo: "无需备注：此地址为您独有。",
            step1: "第一步：向上述地址转账 Pi。",
            step2: "第二步：点击下方的“我已转账”。",
            deposit_tip: "转账后，请点击下方按钮。我们将自动扫描区块链确认您的充值。",
            check_deposit: "我已转账 (检查充值)",
            withdraw_addr: "提现地址",
            amount_beans: "数量 (欢乐豆)",
            withdraw_btn: "提现",
            history: "交易记录",
            col_type: "类型",
            col_amount: "数量",
            col_status: "状态",
            col_time: "时间",
            type_deposit: "充值",
            type_withdraw: "提现",
            status_pending: "处理中",
            status_completed: "已完成",
            status_failed: "失败",
            deposit_success: "充值成功！",
            received: "已到账",
            great: "太棒了！"
        },
        // Lobby
        lobby_title: '游戏大厅',
        online_players: '在线玩家',
        eco_pool: '生态池',
        quick_match: '快速匹配',
        min_entry: '最低准入',
        game_poker: '欢乐扑克',
        match_settings: '匹配设置',
        min_beans: '最小豆数',
        max_beans: '最大豆数',
        start_matching: '开始匹配',
        matching: '匹配中...',
        match_found: '匹配成功!',
        joining: '正在加入...',
        total_beans: '全网欢乐豆',
        official_wallet: '官方生态钱包',
        copy: '复制',
        copied: '已复制!',
        pi_explorer: '区块链浏览器',
        wallet_query: '钱包查询',
        min_reserve: '最低储备',
        lobby_feed: "大厅动态",
        recent_activity: "最新动态",
        feed_joined: "进入了大厅",
        feed_win: "赢得了",
        feed_jackpot: "中了头奖！",
        available_games: "可用游戏",
        hot: "热门",
        coming_soon: "敬请期待",
        ru: {
            home_title: "HappyGames",
            home_subtitle: "Играйте, зарабатывайте Happy Beans и выигрывайте Pi!",
            welcome: "Добро пожаловать, Пионер!",
            auth_msg: "Пожалуйста, авторизуйтесь через Pi Network.",
            login_btn: "Войти через Pi",
            login_agree: "Входя в систему, вы соглашаетесь поделиться своим именем пользователя Pi с HappyGames.",
            enter_lobby: "Войти в лобби",
            connecting: "Подключение к Pi...",
            back_home: "На главную",
            profile_not_found: "Профиль не найден",
            login_required: "Пожалуйста, войдите с главной страницы.",
            go_home: "На главную",
            promoter: "Промоутер",
            member: "Участник",
            referral_stats: "Статистика рефералов",
            invited_users: "Приглашенные",
            total_flow: "Общий оборот",
            referral_link: "Ваша реферальная ссылка",
            logout: "Выйти",
            logout_confirm: "Вы уверены, что хотите выйти?",
            cancel: "Отмена",
            loading_profile: "Загрузка профиля...",
            id: "ID",
            wallet: {
                title: "Центр активов",
                beans: "Happy Beans",
                commission: "Комиссия",
                alert: "Гибкие переводы: Вы можете вносить и выводить средства с любого адреса Pi, включая личный кошелек или биржевой аккаунт.",
                tab_deposit: "Депозит (Pi → Beans)",
                tab_withdraw: "Вывод (Beans → Pi)",
                deposit_addr: "Ваш эксклюзивный адрес для депозита",
                no_memo: "Мемо не требуется: этот адрес уникален для вас.",
                step1: "Шаг 1: Переведите Pi на адрес выше.",
                step2: "Шаг 2: Нажмите «Я перевел» ниже.",
                deposit_tip: "После перевода нажмите кнопку ниже. Мы автоматически просканируем блокчейн на наличие вашего депозита.",
                check_deposit: "Я перевел (Проверить депозит)",
                withdraw_addr: "Адрес вывода",
                amount_beans: "Количество (Beans)",
                withdraw_btn: "Вывести",
                history: "История транзакций",
                col_type: "Тип",
                col_amount: "Сумма",
                col_status: "Статус",
                col_time: "Время",
                type_deposit: "Депозит",
                type_withdraw: "Вывод",
                status_pending: "В ожидании",
                status_completed: "Завершено",
                status_failed: "Ошибка",
                deposit_success: "Deposit Successful!",
                received: "Received",
                great: "Great!"
            },
            // Lobby
            lobby_title: 'Game Lobby',
            online_players: 'Online Players',
            eco_pool: 'Eco Pool',
            quick_match: 'Quick Match',
            min_entry: 'Min Entry',
            game_poker: 'Happy Poker',
            match_settings: 'Match Settings',
            min_beans: 'Min Beans',
            max_beans: 'Max Beans',
            start_matching: 'Start Matching',
            matching: 'Matching...',
            match_found: 'Match Found!',
            joining: 'Joining Game...',
            total_beans: 'Total Happy Beans',
            official_wallet: 'Official Eco Wallet',
            copy: 'Copy',
            copied: 'Copied!',
            pi_explorer: 'Blockchain Explorer',
            wallet_query: 'Wallet Query',
            min_reserve: 'Min Reserve',
            lobby_feed: 'Лента лобби',
            recent_activity: 'Недавняя активность',
            feed_joined: 'присоединился к лобби',
            feed_win: 'выиграл',
            feed_jackpot: 'сорвал джекпот!',
            available_games: "Доступные игры",
            hot: "ГОРЯЧЕЕ",
            coming_soon: "Скоро",
            lucky_dice: "Счастливые кости",
            high_stakes: "Высокие ставки, высокие награды.",
            edit_nickname: "Изменить ник",
            enter_nickname: "Введите новый ник",
            save: "Сохранить",
            beans: "Бобы",
            texas_holdem: "Техасский Холдем",
            referral_details: "Referral Details",
            my_team: "My Team",
            commission_history: "Commission History",
            view_details: "View Details",
        },
        de: {
            home_title: "HappyGames",
            home_subtitle: "Spiele spielen, Happy Beans verdienen und Pi gewinnen!",
            welcome: "Willkommen, Pionier!",
            auth_msg: "Bitte authentifizieren Sie sich mit Pi Network.",
            login_btn: "Mit Pi anmelden",
            login_agree: "Durch die Anmeldung stimmen Sie zu, Ihren Pi-Benutzernamen mit HappyGames zu teilen.",
            enter_lobby: "Spiel-Lobby betreten",
            connecting: "Verbindung zu Pi...",
            back_home: "Zurück zur Startseite",
            profile_not_found: "Profil nicht gefunden",
            login_required: "Bitte melden Sie sich von der Startseite an.",
            go_home: "Zur Startseite",
            promoter: "Promoter",
            member: "Mitglied",
            referral_stats: "Empfehlungsstatistik",
            invited_users: "Eingeladene Benutzer",
            total_flow: "Gesamtfluss",
            referral_link: "Ihr Empfehlungslink",
            logout: "Abmelden",
            logout_confirm: "Möchten Sie sich wirklich abmelden?",
            cancel: "Abbrechen",
            loading_profile: "Profil wird geladen...",
            id: "ID",
            wallet: {
                title: "Vermögenszentrum",
                beans: "Happy Beans",
                commission: "Provision",
                alert: "Flexible Überweisungen: Sie können von jeder Pi-Adresse einzahlen oder abheben, einschließlich Ihrer persönlichen Wallet oder eines Börsenkontos.",
                tab_deposit: "Einzahlen (Pi → Beans)",
                tab_withdraw: "Abheben (Beans → Pi)",
                deposit_addr: "Ihre exklusive Einzahlungsadresse",
                no_memo: "Kein Memo erforderlich: Diese Adresse ist einzigartig für Sie.",
                step1: "Schritt 1: Überweisen Sie Pi an die oben genannte Adresse.",
                step2: "Schritt 2: Klicken Sie unten auf \"Ich habe überwiesen\".",
                deposit_tip: "Klicken Sie nach der Überweisung auf die Schaltfläche unten. Wir scannen die Blockchain automatisch nach Ihrer Einzahlung.",
                check_deposit: "Ich habe überwiesen (Einzahlung prüfen)",
                withdraw_addr: "Auszahlungsadresse",
                amount_beans: "Menge (Beans)",
                withdraw_btn: "Abheben",
                history: "Transaktionsverlauf",
                col_type: "Typ",
                col_amount: "Betrag",
                col_status: "Status",
                col_time: "Zeit",
                type_deposit: "Einzahlung",
                type_withdraw: "Auszahlung",
                status_pending: "Ausstehend",
                status_completed: "Abgeschlossen",
                status_failed: "Fehlgeschlagen",
                deposit_success: "Deposit Successful!",
                received: "Received",
                great: "Great!"
            },
            // Lobby
            lobby_title: 'Game Lobby',
            online_players: 'Online Players',
            eco_pool: 'Eco Pool',
            quick_match: 'Quick Match',
            min_entry: 'Min Entry',
            game_poker: 'Happy Poker',
            match_settings: 'Match Settings',
            min_beans: 'Min Beans',
            max_beans: 'Max Beans',
            start_matching: 'Start Matching',
            matching: 'Matching...',
            match_found: 'Match Found!',
            joining: 'Joining Game...',
            total_beans: 'Total Happy Beans',
            official_wallet: 'Official Eco Wallet',
            copy: 'Copy',
            copied: 'Copied!',
            pi_explorer: 'Blockchain Explorer',
            wallet_query: 'Wallet Query',
            min_reserve: 'Min Reserve',
            lobby_feed: 'Lobby-Feed',
            recent_activity: 'Letzte Aktivität',
            feed_joined: 'ist der Lobby beigetreten',
            feed_win: 'hat gewonnen',
            feed_jackpot: 'hat den Jackpot geknackt!',
            available_games: "Verfügbare Spiele",
            hot: "HEISS",
            coming_soon: "Demnächst",
            lucky_dice: "Glückswürfel",
            high_stakes: "Hoher Einsatz, hoher Gewinn.",
            edit_nickname: "Spitznamen bearbeiten",
            enter_nickname: "Neuen Spitznamen eingeben",
            save: "Speichern",
            beans: "Bohnen",
            texas_holdem: "Texas Hold'em",
            referral_details: "Referral Details",
            my_team: "My Team",
            commission_history: "Commission History",
            view_details: "View Details",
            referral_details: "Referral Details",
            my_team: "My Team",
            commission_history: "Commission History",
            view_details: "View Details",
        },
        fr: {
            home_title: "HappyGames",
            home_subtitle: "Jouez, gagnez des Happy Beans et remportez des Pi !",
            welcome: "Bienvenue, Pionnier !",
            auth_msg: "Veuillez vous authentifier avec Pi Network pour continuer.",
            login_btn: "Se connecter avec Pi",
            login_agree: "En vous connectant, vous acceptez de partager votre nom d'utilisateur Pi avec HappyGames.",
            enter_lobby: "Entrer dans le lobby",
            connecting: "Connexion à Pi...",
            back_home: "Retour à l'accueil",
            profile_not_found: "Profil introuvable",
            login_required: "Veuillez vous connecter depuis la page d'accueil.",
            go_home: "Aller à l'accueil",
            promoter: "Promoteur",
            member: "Membre",
            referral_stats: "Statistiques de parrainage",
            invited_users: "Utilisateurs invités",
            total_flow: "Flux total",
            referral_link: "Votre lien de parrainage",
            logout: "Déconnexion",
            logout_confirm: "Êtes-vous sûr de vouloir vous déconnecter ?",
            cancel: "Annuler",
            loading_profile: "Chargement du profil...",
            id: "ID",
            wallet: {
                title: "Centre d'actifs",
                beans: "Happy Beans",
                commission: "Commission",
                alert: "Transferts flexibles : Vous pouvez déposer ou retirer depuis n'importe quelle adresse Pi, y compris votre portefeuille personnel ou un compte d'échange.",
                tab_deposit: "Dépôt (Pi → Beans)",
                tab_withdraw: "Retrait (Beans → Pi)",
                deposit_addr: "Votre adresse de dépôt exclusive",
                no_memo: "Aucun mémo requis : cette adresse vous est unique.",
                step1: "Étape 1 : Transférez des Pi à l'adresse ci-dessus.",
                step2: "Étape 2 : Cliquez sur « J'ai transféré » ci-dessous.",
                deposit_tip: "Après le transfert, cliquez sur le bouton ci-dessous. Nous scannerons automatiquement la blockchain pour votre dépôt.",
                check_deposit: "J'ai transféré (Vérifier le dépôt)",
                withdraw_addr: "Adresse de retrait",
                amount_beans: "Montant (Beans)",
                withdraw_btn: "Retirer",
                history: "Historique des transactions",
                col_type: "Type",
                col_amount: "Montant",
                col_status: "Statut",
                col_time: "Heure",
                type_deposit: "Dépôt",
                type_withdraw: "Retrait",
                status_pending: "En attente",
                status_completed: "Terminé",
                status_failed: "Échoué",
                deposit_success: "Deposit Successful!",
                received: "Received",
                great: "Great!"
            },
            // Lobby
            lobby_title: 'Game Lobby',
            online_players: 'Online Players',
            eco_pool: 'Eco Pool',
            quick_match: 'Quick Match',
            min_entry: 'Min Entry',
            game_poker: 'Happy Poker',
            match_settings: 'Match Settings',
            min_beans: 'Min Beans',
            max_beans: 'Max Beans',
            start_matching: 'Start Matching',
            matching: 'Matching...',
            match_found: 'Match Found!',
            joining: 'Joining Game...',
            total_beans: 'Total Happy Beans',
            official_wallet: 'Official Eco Wallet',
            copy: 'Copy',
            copied: 'Copied!',
            pi_explorer: 'Blockchain Explorer',
            wallet_query: 'Wallet Query',
            min_reserve: 'Min Reserve',
            lobby_feed: 'Flux du lobby',
            recent_activity: 'Activité récente',
            feed_joined: 'a rejoint le lobby',
            feed_win: 'a gagné',
            feed_jackpot: 'a décroché le jackpot !',
            available_games: "Jeux disponibles",
            hot: "CHAUD",
            coming_soon: "Bientôt disponible",
            lucky_dice: "Dés chanceux",
            high_stakes: "Gros enjeux, grosses récompenses.",
            edit_nickname: "Modifier le pseudo",
            enter_nickname: "Entrez un nouveau pseudo",
            save: "Enregistrer",
            beans: "Haricots",
            texas_holdem: "Texas Hold'em",
            referral_details: "Referral Details",
            my_team: "My Team",
            commission_history: "Commission History",
            view_details: "View Details",
            referral_details: "Referral Details",
            my_team: "My Team",
            commission_history: "Commission History",
            view_details: "View Details",
        },
        ar: {
            home_title: "HappyGames",
            home_subtitle: "العب الألعاب، واكسب Happy Beans، واربح Pi!",
            welcome: "مرحبًا أيها الرائد!",
            auth_msg: "يرجى المصادقة مع شبكة Pi للمتابعة.",
            login_btn: "تسجيل الدخول باستخدام Pi",
            login_agree: "من خلال تسجيل الدخول، فإنك توافق على مشاركة اسم مستخدم Pi الخاص بك مع HappyGames.",
            enter_lobby: "دخول ردهة الألعاب",
            connecting: "جاري الاتصال بـ Pi...",
            back_home: "العودة للرئيسية",
            profile_not_found: "الملف الشخصي غير موجود",
            login_required: "يرجى تسجيل الدخول من الصفحة الرئيسية.",
            go_home: "الذهاب للرئيسية",
            promoter: "مروج",
            member: "عضو",
            referral_stats: "إحصائيات الإحالة",
            invited_users: "المستخدمون المدعوون",
            total_flow: "إجمالي التدفق",
            referral_link: "رابط الإحالة الخاص بك",
            logout: "تسجيل الخروج",
            logout_confirm: "هل أنت متأكد أنك تريد تسجيل الخروج؟",
            cancel: "إلغاء",
            loading_profile: "جاري تحميل الملف الشخصي...",
            id: "المعرف",
            wallet: {
                title: "مركز الأصول",
                beans: "Happy Beans",
                commission: "العمولة",
                alert: "تحويلات مرنة: يمكنك الإيداع أو السحب من أي عنوان Pi، بما في ذلك محفظتك الشخصية أو حساب البورصة.",
                tab_deposit: "إيداع (Pi → Beans)",
                tab_withdraw: "سحب (Beans → Pi)",
                deposit_addr: "عنوان الإيداع الحصري الخاص بك",
                no_memo: "لا توجد ملاحظة مطلوبة: هذا العنوان فريد لك.",
                step1: "الخطوة 1: قم بتحويل Pi إلى العنوان أعلاه.",
                step2: "الخطوة 2: انقر فوق \"لقد قمت بالتحويل\" أدناه.",
                deposit_tip: "بعد التحويل، انقر فوق الزر أدناه. سنقوم بمسح blockchain تلقائيًا بحثًا عن إيداعك.",
                check_deposit: "لقد قمت بالتحويل (تحقق من الإيداع)",
                withdraw_addr: "عنوان السحب",
                amount_beans: "المبلغ (Beans)",
                withdraw_btn: "سحب",
                history: "سجل المعاملات",
                col_type: "النوع",
                col_amount: "المبلغ",
                col_status: "الحالة",
                col_time: "الوقت",
                type_deposit: "إيداع",
                type_withdraw: "سحب",
                status_pending: "قيد الانتظار",
                status_completed: "مكتمل",
                status_failed: "فشل",
                deposit_success: "Deposit Successful!",
                received: "Received",
                great: "Great!"
            },
            // Lobby
            lobby_title: 'Game Lobby',
            online_players: 'Online Players',
            eco_pool: 'Eco Pool',
            quick_match: 'Quick Match',
            min_entry: 'Min Entry',
            game_poker: 'Happy Poker',
            match_settings: 'Match Settings',
            min_beans: 'Min Beans',
            max_beans: 'Max Beans',
            start_matching: 'Start Matching',
            matching: 'Matching...',
            match_found: 'Match Found!',
            joining: 'Joining Game...',
            total_beans: 'Total Happy Beans',
            official_wallet: 'Official Eco Wallet',
            copy: 'Copy',
            copied: 'Copied!',
            pi_explorer: 'Blockchain Explorer',
            wallet_query: 'Wallet Query',
            min_reserve: 'Min Reserve',
            lobby_feed: 'موجز الردهة',
            recent_activity: 'النشاط الأخير',
            feed_joined: 'انضم إلى الردهة',
            feed_win: 'فاز',
            feed_jackpot: 'فاز بالجائزة الكبرى!',
            available_games: "الألعاب المتاحة",
            hot: "ساخن",
            coming_soon: "قريبا",
            lucky_dice: "نرد الحظ",
            vi: {
                home_title: "HappyGames",
                home_subtitle: "Chơi game, kiếm Happy Beans và thắng Pi!",
                welcome: "Chào mừng, Tiên phong!",
                auth_msg: "Vui lòng xác thực với Pi Network để tiếp tục.",
                login_btn: "Đăng nhập bằng Pi",
                login_agree: "Bằng cách đăng nhập, bạn đồng ý chia sẻ tên người dùng Pi của mình với HappyGames.",
                enter_lobby: "Vào sảnh game",
                connecting: "Đang kết nối Pi...",
                back_home: "Về trang chủ",
                profile_not_found: "Không tìm thấy hồ sơ",
                login_required: "Vui lòng đăng nhập từ trang chủ.",
                go_home: "Về trang chủ",
                promoter: "Người giới thiệu",
                member: "Thành viên",
                referral_stats: "Thống kê giới thiệu",
                invited_users: "Người được mời",
                total_flow: "Tổng lưu lượng",
                referral_link: "Liên kết giới thiệu của bạn",
                logout: "Đăng xuất",
                logout_confirm: "Bạn có chắc chắn muốn đăng xuất?",
                cancel: "Hủy",
                loading_profile: "Đang tải hồ sơ...",
                id: "ID",
                wallet: {
                    title: "Trung tâm tài sản",
                    beans: "Happy Beans",
                    commission: "Hoa hồng",
                    alert: "Chuyển khoản linh hoạt: Bạn có thể nạp hoặc rút từ bất kỳ địa chỉ Pi nào, bao gồm ví cá nhân hoặc tài khoản sàn giao dịch.",
                    tab_deposit: "Nạp (Pi → Beans)",
                    tab_withdraw: "Rút (Beans → Pi)",
                    deposit_addr: "Địa chỉ nạp tiền độc quyền của bạn",
                    no_memo: "Không cần ghi chú: Địa chỉ này là duy nhất cho bạn.",
                    step1: "Bước 1: Chuyển Pi đến địa chỉ trên.",
                    step2: "Bước 2: Nhấn vào \"Tôi đã chuyển\" bên dưới.",
                    deposit_tip: "Sau khi chuyển, hãy nhấn nút bên dưới. Chúng tôi sẽ tự động quét blockchain để xác nhận khoản nạp của bạn.",
                    check_deposit: "Tôi đã chuyển (Kiểm tra nạp tiền)",
                    withdraw_addr: "Địa chỉ rút tiền",
                    amount_beans: "Số lượng (Beans)",
                    withdraw_btn: "Rút tiền",
                    history: "Lịch sử giao dịch",
                    col_type: "Loại",
                    col_amount: "Số tiền",
                    col_status: "Trạng thái",
                    col_time: "Thời gian",
                    type_deposit: "Nạp tiền",
                    type_withdraw: "Rút tiền",
                    status_pending: "Đang xử lý",
                    status_completed: "Hoàn thành",
                    status_failed: "Thất bại",
                    deposit_success: "Deposit Successful!",
                    received: "Received",
                    great: "Great!"
                },
                // Lobby
                lobby_title: 'Game Lobby',
                online_players: 'Online Players',
                eco_pool: 'Eco Pool',
                quick_match: 'Quick Match',
                min_entry: 'Min Entry',
                game_poker: 'Happy Poker',
                match_settings: 'Match Settings',
                min_beans: 'Min Beans',
                max_beans: 'Max Beans',
                start_matching: 'Start Matching',
                matching: 'Matching...',
                match_found: 'Match Found!',
                joining: 'Joining Game...',
                total_beans: 'Total Happy Beans',
                official_wallet: 'Official Eco Wallet',
                copy: 'Copy',
                copied: 'Copied!',
                pi_explorer: 'Blockchain Explorer',
                wallet_query: 'Wallet Query',
                min_reserve: 'Min Reserve',
                lobby_feed: 'Bảng tin sảnh',
                recent_activity: 'Hoạt động gần đây',
                feed_joined: 'đã tham gia sảnh',
                feed_win: 'đã thắng',
                feed_jackpot: 'đã trúng giải độc đắc!',

                available_games: "Trò chơi có sẵn",
                hot: "HOT",
                coming_soon: "Sắp ra mắt",
                lucky_dice: "Xúc xắc may mắn",
                high_stakes: "Cược lớn, thưởng lớn.",
                edit_nickname: "Sửa biệt danh",
                enter_nickname: "Nhập biệt danh mới",
                save: "Lưu",
                beans: "Đậu",
                texas_holdem: "Texas Hold'em",
                referral_details: "Referral Details",
                my_team: "My Team",
                commission_history: "Commission History",
                view_details: "View Details",
            },
            es: {
                home_title: "HappyGames",
                home_subtitle: "¡Juega, gana Happy Beans y obtén Pi!",
                welcome: "¡Bienvenido, Pionero!",
                auth_msg: "Por favor, autentícate con Pi Network para continuar.",
                login_btn: "Iniciar sesión con Pi",
                login_agree: "Al iniciar sesión, aceptas compartir tu nombre de usuario de Pi con HappyGames.",
                enter_lobby: "Entrar al vestíbulo",
                connecting: "Conectando a Pi...",
                back_home: "Volver al inicio",
                profile_not_found: "Perfil no encontrado",
                login_required: "Por favor, inicia sesión desde la página de inicio.",
                go_home: "Ir al inicio",
                promoter: "Promotor",
                member: "Miembro",
                referral_stats: "Estadísticas de referencia",
                invited_users: "Usuarios invitados",
                total_flow: "Flujo total",
                referral_link: "Tu enlace de referencia",
                logout: "Cerrar sesión",
                logout_confirm: "¿Estás seguro de que quieres cerrar sesión?",
                cancel: "Cancelar",
                loading_profile: "Cargando perfil...",
                id: "ID",
                wallet: {
                    title: "Centro de Activos",
                    beans: "Happy Beans",
                    commission: "Comisión",
                    alert: "Transferencias flexibles: Puede depositar o retirar desde cualquier dirección de Pi, incluida su billetera personal o una cuenta de intercambio.",
                    tab_deposit: "Depósito (Pi → Beans)",
                    tab_withdraw: "Retiro (Beans → Pi)",
                    deposit_addr: "Su dirección de depósito exclusiva",
                    no_memo: "No se requiere nota: Esta dirección es única para usted.",
                    step1: "Paso 1: Transfiera Pi a la dirección anterior.",
                    step2: "Paso 2: Haga clic en \"He transferido\" a continuación.",
                    deposit_tip: "Después de transferir, haga clic en el botón de abajo. Escanearemos automáticamente la cadena de bloques en busca de su depósito.",
                    check_deposit: "He transferido (Verificar depósito)",
                    withdraw_addr: "Dirección de retiro",
                    amount_beans: "Cantidad (Beans)",
                    withdraw_btn: "Retirar",
                    history: "Historial de transacciones",
                    col_type: "Tipo",
                    col_amount: "Monto",
                    col_status: "Estado",
                    col_time: "Hora",
                    type_deposit: "Depósito",
                    type_withdraw: "Retiro",
                    status_pending: "Pendiente",
                    status_completed: "Completado",
                    status_failed: "Fallido",
                    deposit_success: "Deposit Successful!",
                    received: "Received",
                    great: "Great!"
                },
                // Lobby
                lobby_title: 'Game Lobby',
                online_players: 'Online Players',
                eco_pool: 'Eco Pool',
                quick_match: 'Quick Match',
                min_entry: 'Min Entry',
                game_poker: 'Happy Poker',
                match_settings: 'Match Settings',
                min_beans: 'Min Beans',
                max_beans: 'Max Beans',
                start_matching: 'Start Matching',
                matching: 'Matching...',
                match_found: 'Match Found!',
                joining: 'Joining Game...',
                total_beans: 'Total Happy Beans',
                official_wallet: 'Official Eco Wallet',
                copy: 'Copy',
                copied: 'Copied!',
                pi_explorer: 'Blockchain Explorer',
                wallet_query: 'Wallet Query',
                min_reserve: 'Min Reserve',
                lobby_feed: 'Feed del vestíbulo',
                recent_activity: 'Actividad reciente',
                feed_joined: 'se unió al vestíbulo',
                feed_win: 'ganó',
                feed_jackpot: 'ganó el premio mayor!',
            },
            pt: {
                home_title: "HappyGames",
                home_subtitle: "Jogue, ganhe Happy Beans e conquiste Pi!",
                welcome: "Bem-vindo, Pioneiro!",
                auth_msg: "Por favor, autentique-se com a Pi Network para continuar.",
                login_btn: "Entrar com Pi",
                login_agree: "Ao entrar, você concorda em compartilhar seu nome de usuário Pi com HappyGames.",
                enter_lobby: "Entrar no Lobby",
                connecting: "Conectando ao Pi...",
                back_home: "Voltar ao Início",
                profile_not_found: "Perfil não encontrado",
                login_required: "Por favor, faça login na página inicial.",
                go_home: "Ir para o Início",
                promoter: "Promotor",
                member: "Membro",
                referral_stats: "Estatísticas de Indicação",
                invited_users: "Usuários Convidados",
                total_flow: "Fluxo Total",
                referral_link: "Seu Link de Indicação",
                logout: "Sair",
                logout_confirm: "Tem certeza que deseja sair?",
                cancel: "Cancelar",
                loading_profile: "Carregando perfil...",
                id: "ID",
                wallet: {
                    title: "Centro de Ativos",
                    beans: "Happy Beans",
                    commission: "Comissão",
                    alert: "Transferências flexíveis: Você pode depositar ou sacar de qualquer endereço Pi, incluindo sua carteira pessoal ou conta de câmbio.",
                    tab_deposit: "Depósito (Pi → Beans)",
                    tab_withdraw: "Saque (Beans → Pi)",
                    deposit_addr: "Seu endereço de depósito exclusivo",
                    no_memo: "Nenhum memorando necessário: Este endereço é exclusivo para você.",
                    step1: "Passo 1: Transfira Pi para o endereço acima.",
                    step2: "Passo 2: Clique em \"Eu transferi\" abaixo.",
                    deposit_tip: "Após transferir, clique no botão abaixo. Verificaremos automaticamente o blockchain para o seu depósito.",
                    check_deposit: "Eu transferi (Verificar depósito)",
                    withdraw_addr: "Endereço de saque",
                    amount_beans: "Quantidade (Beans)",
                    withdraw_btn: "Sacar",
                    history: "Histórico de transações",
                    col_type: "Tipo",
                    col_amount: "Valor",
                    col_status: "Status",
                    col_time: "Hora",
                    type_deposit: "Depósito",
                    type_withdraw: "Saque",
                    status_pending: "Pendente",
                    status_completed: "Concluído",
                    status_failed: "Falhou",
                    deposit_success: "Deposit Successful!",
                    received: "Received",
                    great: "Great!"
                },
                // Lobby
                lobby_title: 'Game Lobby',
                online_players: 'Online Players',
                eco_pool: 'Eco Pool',
                quick_match: 'Quick Match',
                min_entry: 'Min Entry',
                game_poker: 'Happy Poker',
                match_settings: 'Match Settings',
                min_beans: 'Min Beans',
                max_beans: 'Max Beans',
                start_matching: 'Start Matching',
                matching: 'Matching...',
                match_found: 'Match Found!',
                joining: 'Joining Game...',
                total_beans: 'Total Happy Beans',
                official_wallet: 'Official Eco Wallet',
                copy: 'Copy',
                copied: 'Copied!',
                pi_explorer: 'Blockchain Explorer',
                wallet_query: 'Wallet Query',
                min_reserve: 'Min Reserve',
                lobby_feed: 'Feed do Lobby',
                recent_activity: 'Atividade Recente',
                feed_joined: 'entrou no lobby',
                feed_win: 'ganhou',
                feed_jackpot: 'ganhou o Jackpot!',
                available_games: "Available Games",
                hot: "HOT",
                coming_soon: "Coming Soon",
                lucky_dice: "Lucky Dice",
                high_stakes: "High stakes, high rewards.",
                edit_nickname: "Edit Nickname",
                enter_nickname: "Enter new nickname",
                save: "Save",
                beans: "Beans",
                texas_holdem: "Texas Hold'em",
                referral_details: "Referral Details",
                my_team: "My Team",
                commission_history: "Commission History",
                view_details: "View Details",
            },
            'zh-TW': {
                home_title: "HappyGames",
                home_subtitle: "玩遊戲，賺歡樂豆，贏取 Pi！",
                welcome: "歡迎，先鋒！",
                auth_msg: "請通過 Pi Network 認證以繼續。",
                login_btn: "使用 Pi 登錄",
                login_agree: "登錄即表示您同意與 HappyGames 分享您的 Pi 用戶名。",
                enter_lobby: "進入遊戲大廳",
                connecting: "正在連接 Pi...",
                back_home: "返回首頁",
                profile_not_found: "未找到個人資料",
                login_required: "請從首頁登錄。",
                go_home: "前往首頁",
                promoter: "推廣員",
                member: "會員",
                referral_stats: "推廣數據",
                invited_users: "已邀請用戶",
                total_flow: "總流水",
                referral_link: "您的推廣鏈接",
                logout: "退出登錄",
                logout_confirm: "您確定要退出登錄嗎？",
                cancel: "取消",
                loading_profile: "正在加載個人資料...",
                id: "ID",
                wallet: {
                    title: "資產中心",
                    beans: "歡樂豆",
                    commission: "佣金",
                    alert: "靈活轉賬：您可以從任何 Pi 地址充值或提現，包括您的個人錢包或交易所賬戶。",
                    tab_deposit: "充值 (Pi → 歡樂豆)",
                    tab_withdraw: "提現 (歡樂豆 → Pi)",
                    deposit_addr: "您的專屬充值地址",
                    no_memo: "無需備註：此地址為您獨有。",
                    step1: "第一步：向上述地址轉賬 Pi。",
                    step2: "第二步：點擊下方的“我已轉賬”。",
                    deposit_tip: "轉賬後，請點擊下方按鈕。我們將自動掃描區塊鏈確認您的充值。",
                    check_deposit: "我已轉賬 (檢查充值)",
                    withdraw_addr: "提現地址",
                    amount_beans: "數量 (歡樂豆)",
                    withdraw_btn: "提現",
                    history: "交易記錄",
                    col_type: "類型",
                    col_amount: "數量",
                    col_status: "狀態",
                    col_time: "時間",
                    type_deposit: "充值",
                    type_withdraw: "提現",
                    status_pending: "處理中",
                    status_completed: "已完成",
                    status_failed: "失敗",
                    deposit_success: "充值成功！",
                    received: "已到賬",
                    great: "太棒了！"
                },
                // Lobby
                lobby_title: 'Game Lobby',
                online_players: 'Online Players',
                eco_pool: 'Eco Pool',
                quick_match: 'Quick Match',
                min_entry: 'Min Entry',
                game_poker: 'Happy Poker',
                match_settings: 'Match Settings',
                min_beans: 'Min Beans',
                max_beans: 'Max Beans',
                start_matching: 'Start Matching',
                matching: 'Matching...',
                match_found: 'Match Found!',
                joining: 'Joining Game...',
                total_beans: 'Total Happy Beans',
                official_wallet: 'Official Eco Wallet',
                copy: 'Copy',
                copied: 'Copied!',
                pi_explorer: '區塊鏈瀏覽器',
                wallet_query: '錢包查詢',
                min_reserve: '最低儲備',
                lobby_feed: "大廳動態",
                recent_activity: "最新動態",
                feed_joined: "進入了大廳",
                feed_win: "贏得了",
                feed_jackpot: "中了頭獎！",
                available_games: "可用遊戲",
                hot: "熱門",
                coming_soon: "敬請期待",
                lucky_dice: "幸運骰子",
                high_stakes: "高風險，高回報。",
                edit_nickname: "修改暱稱",
                enter_nickname: "輸入新暱稱",
                save: "保存",
                beans: "歡樂豆",
                texas_holdem: "德州撲克",
                referral_details: "推廣詳情",
                my_team: "我的團隊",
                commission_history: "佣金記錄",
                view_details: "查看詳情",
            },
            ms: {
                home_title: "HappyGames",
                home_subtitle: "Main permainan, dapatkan Happy Beans, dan menangi Pi!",
                welcome: "Selamat datang, Perintis!",
                auth_msg: "Sila sahkan dengan Pi Network untuk meneruskan.",
                login_btn: "Log masuk dengan Pi",
                login_agree: "Dengan log masuk, anda bersetuju untuk berkongsi nama pengguna Pi anda dengan HappyGames.",
                enter_lobby: "Masuk Lobi Permainan",
                connecting: "Menyambung ke Pi...",
                back_home: "Kembali ke Laman Utama",
                profile_not_found: "Profil Tidak Ditemui",
                login_required: "Sila log masuk dari laman utama.",
                go_home: "Pergi ke Laman Utama",
                promoter: "Promoter",
                member: "Ahli",
                referral_stats: "Statistik Rujukan",
                invited_users: "Pengguna Dijemput",
                total_flow: "Jumlah Aliran",
                referral_link: "Pautan Rujukan Anda",
                logout: "Log Keluar",
                logout_confirm: "Adakah anda pasti mahu log keluar?",
                cancel: "Batal",
                loading_profile: "Memuatkan Profil...",
                id: "ID",
                wallet: {
                    title: "Pusat Aset",
                    beans: "Happy Beans",
                    commission: "Komisen",
                    alert: "Pemindahan Fleksibel: Anda boleh deposit atau mengeluarkan dari mana-mana alamat Pi, termasuk dompet peribadi atau akaun pertukaran anda.",
                    tab_deposit: "Deposit (Pi → Beans)",
                    tab_withdraw: "Pengeluaran (Beans → Pi)",
                    deposit_addr: "Alamat Deposit Eksklusif Anda",
                    no_memo: "Tiada Memo Diperlukan: Alamat ini unik untuk anda.",
                    step1: "Langkah 1: Pindahkan Pi ke alamat di atas.",
                    step2: "Langkah 2: Klik \"Saya Telah Pindahkan\" di bawah.",
                    deposit_tip: "Selepas memindahkan, klik butang di bawah. Kami akan mengimbas blockchain secara automatik untuk deposit anda.",
                    check_deposit: "Saya Telah Pindahkan (Semak Deposit)",
                    withdraw_addr: "Alamat Pengeluaran",
                    amount_beans: "Jumlah (Beans)",
                    withdraw_btn: "Keluarkan",
                    history: "Sejarah Transaksi",
                    col_type: "Jenis",
                    col_amount: "Jumlah",
                    col_status: "Status",
                    col_time: "Masa",
                    type_deposit: "Deposit",
                    type_withdraw: "Pengeluaran",
                    status_pending: "Menunggu",
                    status_completed: "Selesai",
                    status_failed: "Gagal",
                    deposit_success: "Deposit Berjaya!",
                    received: "Diterima",
                    great: "Hebat!"
                },
                lobby_feed: "Suapan Lobi",
                recent_activity: "Aktiviti Terkini",
                feed_joined: "menyertai lobi",
                feed_win: "menang",
                feed_jackpot: "memenangi Jackpot!",
                // Lobby
                lobby_title: 'Game Lobby',
                online_players: 'Online Players',
                eco_pool: 'Eco Pool',
                quick_match: 'Quick Match',
                min_entry: 'Min Entry',
                game_poker: 'Happy Poker',
                match_settings: 'Match Settings',
                min_beans: 'Min Beans',
                max_beans: 'Max Beans',
                start_matching: 'Start Matching',
                matching: 'Matching...',
                match_found: 'Match Found!',
                joining: 'Joining Game...',
                total_beans: 'Total Happy Beans',
                official_wallet: 'Official Eco Wallet',
                copy: 'Copy',
                copied: 'Copied!',
                pi_explorer: 'Blockchain Explorer',
                wallet_query: 'Wallet Query',
                min_reserve: 'Min Reserve',
                available_games: "Available Games",
                hot: "HOT",
                coming_soon: "Coming Soon",
                lucky_dice: "Lucky Dice",
                high_stakes: "High stakes, high rewards.",
                edit_nickname: "Edit Nickname",
                enter_nickname: "Enter new nickname",
                save: "Save",
                beans: "Beans",
                texas_holdem: "Texas Hold'em",
                referral_details: "Referral Details",
                my_team: "My Team",
                commission_history: "Commission History",
                view_details: "View Details",
            },
            he: {
                home_title: "HappyGames",
                home_subtitle: "שחקו משחקים, הרוויחו Happy Beans וזכו ב-Pi!",
                welcome: "ברוכים הבאים, חלוצים!",
                auth_msg: "אנא אמת עם רשת Pi כדי להמשיך.",
                login_btn: "התחבר עם Pi",
                login_agree: "על ידי התחברות, אתה מסכים לשתף את שם המשתמש שלך ב-Pi עם HappyGames.",
                enter_lobby: "כנס ללובי המשחקים",
                connecting: "מתחבר ל-Pi...",
                back_home: "חזרה לדף הבית",
                profile_not_found: "פרופיל לא נמצא",
                login_required: "אנא התחבר מדף הבית.",
                go_home: "לך לדף הבית",
                promoter: "מקדם",
                member: "חבר",
                referral_stats: "סטטיסטיקת הפניות",
                invited_users: "משתמשים שהוזמנו",
                total_flow: "זרימה כוללת",
                referral_link: "קישור ההפניה שלך",
                logout: "התנתק",
                logout_confirm: "האם אתה בטוח שברצונך להתנתק?",
                cancel: "ביטול",
                loading_profile: "טוען פרופיל...",
                id: "מזהה",
                wallet: {
                    title: "מרכז הנכסים",
                    beans: "Happy Beans",
                    commission: "עמלה",
                    alert: "העברות גמישות: ניתן להפקיד או למשוך מכל כתובת Pi, כולל הארנק האישי שלך או חשבון בורסה.",
                    tab_deposit: "הפקדה (Pi → Beans)",
                    tab_withdraw: "משיכה (Beans → Pi)",
                    deposit_addr: "כתובת ההפקדה הבלעדית שלך",
                    no_memo: "אין צורך במזכר: כתובת זו ייחודית לך.",
                    step1: "שלב 1: העבר Pi לכתובת למעלה.",
                    step2: "שלב 2: לחץ על \"העברתי\" למטה.",
                    deposit_tip: "לאחר ההעברה, לחץ על הכפתור למטה. אנו נסרוק אוטומטית את הבלוקצ'יין עבור ההפקדה שלך.",
                    check_deposit: "העברתי (בדוק הפקדה)",
                    withdraw_addr: "כתובת משיכה",
                    amount_beans: "כמות (Beans)",
                    withdraw_btn: "משוך",
                    history: "היסטוריית עסקאות",
                    col_type: "סוג",
                    col_amount: "סכום",
                    col_status: "סטטוס",
                    col_time: "זמן",
                    type_deposit: "הפקדה",
                    type_withdraw: "משיכה",
                    status_pending: "ממתין",
                    status_completed: "הושלם",
                    status_failed: "נכשל",
                    deposit_success: "!הפקדה הצליחה",
                    received: "התקבל",
                    great: "!מצוין"
                },
                lobby_feed: "עדכוני לובי",
                recent_activity: "פעילות אחרונה",
                feed_joined: "הצטרף ללובי",
                feed_win: "זכה ב",
                feed_jackpot: "!זכה בכל הקופה",
                // Lobby
                lobby_title: 'Game Lobby',
                online_players: 'Online Players',
                eco_pool: 'Eco Pool',
                quick_match: 'Quick Match',
                min_entry: 'Min Entry',
                game_poker: 'Happy Poker',
                match_settings: 'Match Settings',
                min_beans: 'Min Beans',
                max_beans: 'Max Beans',
                start_matching: 'Start Matching',
                matching: 'Matching...',
                match_found: 'Match Found!',
                joining: 'Joining Game...',
                total_beans: 'Total Happy Beans',
                official_wallet: 'Official Eco Wallet',
                copy: 'Copy',
                copied: 'Copied!',
                pi_explorer: 'Blockchain Explorer',
                wallet_query: 'Wallet Query',
                min_reserve: 'Min Reserve',
                available_games: "Available Games",
                hot: "HOT",
                coming_soon: "Coming Soon",
                lucky_dice: "Lucky Dice",
                high_stakes: "High stakes, high rewards.",
                edit_nickname: "Edit Nickname",
                enter_nickname: "Enter new nickname",
                save: "Save",
                beans: "Beans",
                texas_holdem: "Texas Hold'em",
                referral_details: "Referral Details",
                my_team: "My Team",
                commission_history: "Commission History",
                view_details: "View Details",

            }
        };

        type Translations = typeof translations.en;

        interface LanguageContextType {
            language: Language;
setLanguage: (lang: Language) => void;
t: Translations;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export function LanguageProvider({ children }: { children: React.ReactNode }) {
    const [language, setLanguage] = useState<Language>('en');

    useEffect(() => {
        const savedLang = localStorage.getItem('app_language') as Language;
        if (savedLang && translations[savedLang]) {
            setLanguage(savedLang);
        }
    }, []);

    const handleSetLanguage = (lang: Language) => {
        setLanguage(lang);
        localStorage.setItem('app_language', lang);
    };

    return (
        <LanguageContext.Provider value={{ language, setLanguage: handleSetLanguage, t: translations[language] }}>
            {children}
        </LanguageContext.Provider>
    );
}

export function useLanguage() {
    const context = useContext(LanguageContext);
    if (context === undefined) {
        throw new Error('useLanguage must be used within a LanguageProvider');
    }
    return context;
}
