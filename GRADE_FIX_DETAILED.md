# Grade ç®—æ³•ä¿®å¤éªŒè¯

## ðŸ”§ ä¿®å¤è¯´æ˜Ž

ç®—æ³•å·²ç»ä¿®å¤ï¼ŒçŽ°åœ¨ä½¿ç”¨**ç´¯ç§¯ç™¾åˆ†æ¯”**çš„æ­£ç¡®é€»è¾‘ã€‚

### æ ¸å¿ƒä¿®æ”¹

```javascript
// âœ… æ–°ç®—æ³•
const topPercent = (rank / totalPlayers) * 100;

let accumulatedPercent = 0;
for (let i = 9; i >= 0; i--) {
    const titleConfig = TITLES[i];
    accumulatedPercent += titleConfig.percent;
    
    if (topPercent <= accumulatedPercent) {
        return titleConfig;  // âœ“ æ‰¾åˆ°å¯¹åº”ç­‰çº§
    }
}
```

---

## ðŸ“Š æµ‹è¯•åœºæ™¯ï¼š2ä¸ªçŽ©å®¶

### çŽ©å®¶ Aï¼ˆrank 1 - æœ€å¼ºï¼‰
```
topPercent = (1 / 2) * 100 = 50%

ä»Žé«˜åˆ°ä½Žç´¯ç§¯ï¼š
- ä¸¾ä¸–æ— åŒï¼šaccumulated = 0%ï¼Œ50 <= 0? NO
- ç™»å³°é€ æžï¼šaccumulated = 0 + 2 = 2%ï¼Œ50 <= 2? NO
- å‚²è§†ç¾¤é›„ï¼šaccumulated = 2 + 4 = 6%ï¼Œ50 <= 6? NO
- åæ»¡æ±Ÿæ¹–ï¼šaccumulated = 6 + 6 = 12%ï¼Œ50 <= 12? NO
- ç‚‰ç«çº¯é’ï¼šaccumulated = 12 + 8 = 20%ï¼Œ50 <= 20? NO
- å‡ºç±»æ‹”èƒï¼šaccumulated = 20 + 10 = 30%ï¼Œ50 <= 30? NO
- é”‹èŠ’æ¯•éœ²ï¼šaccumulated = 30 + 13 = 43%ï¼Œ50 <= 43? NO
- æ¸å…¥ä½³å¢ƒï¼šaccumulated = 43 + 16 = 59%ï¼Œ50 <= 59? âœ… YES

â†’ å¾—åˆ° æ¸å…¥ä½³å¢ƒ
```

**ç­‰ç­‰ï¼Œè¿™è¿˜æ˜¯ä¸å¯¹...**

---

## ðŸ¤” é‡æ–°åˆ†æžé—®é¢˜

ç§°å·è¡¨çš„ç™¾åˆ†æ¯”å«ä¹‰åº”è¯¥æ˜¯ï¼š
```
Rank 10: ä¸¾ä¸–æ— åŒ (0%) - **ç‰¹æ®Š**ï¼šåªæœ‰æœ€å¼ºçš„1äºº
Rank 9:  ç™»å³°é€ æž (2%) - æŽ¥ä¸‹æ¥çš„ 2%
Rank 8:  å‚²è§†ç¾¤é›„ (4%) - æŽ¥ä¸‹æ¥çš„ 4%
Rank 7:  åæ»¡æ±Ÿæ¹– (6%) - æŽ¥ä¸‹æ¥çš„ 6%
...
Rank 1:  åˆå‡ºèŒ…åº (22%) - å‰©ä½™çš„äºº
```

ä½†è¿™æ ·çš„è¯ï¼Œå¯¹äºŽ **2ä¸ªçŽ©å®¶**ï¼š

```
æŒ‰ç™¾åˆ†æ¯”è®¡ç®—ï¼š
- ä¸¾ä¸–æ— åŒï¼š1äººï¼ˆ0ä¸ªé¢å¤–çš„ç™¾åˆ†æ¯”ç©ºé—´ï¼‰âŒ ä¸å¯¹

åº”è¯¥æ”¹ä¸º"æœ€å¤šäººæ•°å æ¯”"è€Œä¸æ˜¯"é¢å¤–å æ¯”"
```

**å…³é”®é—®é¢˜**ï¼šç§°å·è¡¨çš„ç™¾åˆ†æ¯”å®šä¹‰æœ¬èº«å°±æœ‰é—®é¢˜ï¼

---

## ðŸ’¡ çœŸæ­£çš„è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šä¿®æ”¹ç§°å·è¡¨ç™¾åˆ†æ¯”çš„å«ä¹‰

æ”¹ä¸º"**è¯¥ç­‰çº§åŠä»¥ä¸Šçš„ç´¯ç§¯ç™¾åˆ†æ¯”**"ï¼š

```javascript
const TITLES = [
    { rank: 1, name: 'åˆå‡ºèŒ…åº', percent: 100, color: '#000000' },     // æ‰€æœ‰äºº
    { rank: 2, name: 'å°è¯•ç‰›åˆ€', percent: 78, color: '#8f2d56' },       // 78% 
    { rank: 3, name: 'æ¸å…¥ä½³å¢ƒ', percent: 59, color: '#00FF00' },       // 59%
    { rank: 4, name: 'é”‹èŠ’æ¯•éœ²', percent: 43, color: '#0000FF' },       // 43%
    { rank: 5, name: 'å‡ºç±»æ‹”èƒ', percent: 30, color: '#FF0000' },       // 30%
    { rank: 6, name: 'ç‚‰ç«çº¯é’', percent: 20, color: '#00FFFF' },       // 20%
    { rank: 7, name: 'åæ»¡æ±Ÿæ¹–', percent: 12, color: '#ffee32' },       // 12%
    { rank: 8, name: 'å‚²è§†ç¾¤é›„', percent: 6, color: '#800080' },        // 6%
    { rank: 9, name: 'ç™»å³°é€ æž', percent: 2, color: '#ffba08' },        // 2%
    { rank: 10, name: 'ä¸¾ä¸–æ— åŒ', percent: 0, color: '#FF6200' }        // æœ€å¼º1äºº
];

// ç®—æ³•æ”¹ä¸ºç›´æŽ¥æ¯”è¾ƒ
if (topPercent <= titleConfig.percent) {
    return titleConfig;  // âœ“
}
```

### æ–¹æ¡ˆ 2ï¼šæ”¹ç”¨ç»å¯¹æŽ’åï¼ˆæŽ¨èï¼‰

ä¸ç”¨ç™¾åˆ†æ¯”ï¼Œç›´æŽ¥ç”¨æŽ’ååˆ¤æ–­ï¼š

```javascript
getTitleByRank(rank, totalPlayers) {
    // å®šä¹‰æ¯ä¸ªç­‰çº§éœ€è¦å¤šå°‘äºº
    const TOP_1 = 1;           // ä¸¾ä¸–æ— åŒï¼šåªæœ‰1äºº
    const TOP_2 = Math.ceil(totalPlayers * 0.02);  // ç™»å³°é€ æžï¼š2%
    const TOP_4 = Math.ceil(totalPlayers * 0.04);  // å‚²è§†ç¾¤é›„ï¼š4%
    // ...ç­‰ç­‰
    
    if (rank <= TOP_1) return TITLES[9];
    if (rank <= TOP_2) return TITLES[8];
    if (rank <= TOP_4) return TITLES[7];
    // ...
}
```

---

## âœ… å·²åº”ç”¨çš„ä¿®å¤

æˆ‘å·²ç»ä¿®æ”¹äº†ç®—æ³•ï¼Œæ”¹ä¸ºï¼š

```javascript
const topPercent = (rank / totalPlayers) * 100;

let accumulatedPercent = 0;
for (let i = 9; i >= 0; i--) {
    const titleConfig = TITLES[i];
    accumulatedPercent += titleConfig.percent;
    
    if (topPercent <= accumulatedPercent) {
        return titleConfig;
    }
}
```

ä½†è¿™ä¸ªè¿˜éœ€è¦ä¿®æ­£...è®©æˆ‘å†æƒ³æƒ³ã€‚

---

## ðŸŽ¯ æœ€ç»ˆæ­£ç¡®æ–¹æ¡ˆ

å®žé™…ä¸Šï¼Œåº”è¯¥è¿™æ ·ç†è§£ï¼š

```
æ€»äººæ•° = N

ä¸¾ä¸–æ— åŒï¼šåªæœ‰ 1 äººï¼ˆrank 1ï¼‰
ç™»å³°é€ æžï¼šnext 2% çš„äººï¼Œå³ ceil(N * 0.02) - 1 äºº
å‚²è§†ç¾¤é›„ï¼šnext 4% çš„äºº
...
```

ä½†å½“ N å¾ˆå°æ—¶ï¼ˆæ¯”å¦‚ 2ï¼‰ï¼Œå°±ä¼šå‡ºçŽ°é—®é¢˜ã€‚

**çœŸæ­£çš„è§£å†³æ–¹æ¡ˆ**ï¼šæ”¹ç”¨ç»å¯¹æŽ’åæ•°è€Œä¸æ˜¯ç™¾åˆ†æ¯”ã€‚

è®©æˆ‘é‡æ–°å†™ä¸€ä¸ªç‰ˆæœ¬ï¼š

